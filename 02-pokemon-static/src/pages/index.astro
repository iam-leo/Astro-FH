---
// Server side only code - build time
import PokemonCard from '../components/pokemons/PokemonCard.astro';
import type { PokemonListResponse } from '../interfaces/pokemon-list-results';
import MainLayout from '../layouts/MainLayout.astro';

const title = 'Pokedex | Home';

const response = await fetch('https://pokeapi.co/api/v2/pokemon');

const results = (await response.json()) as PokemonListResponse;
---

<MainLayout title={title}>
	<h1 class='text-center text-3xl text-indigo-700 mt-5'>
		Listado de Pokemons
	</h1>
	<ul
		aria-label='Listado de pokemons'
		class='m-5 grid grid-cols-4 gap-3'
	>
		{
			results.results.map((pokemon) => (
				<PokemonCard
					name={pokemon.name}
					url={pokemon.url}
				/>
			))
		}
	</ul>
</MainLayout>
